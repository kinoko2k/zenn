---
title: "discord.jsã§Globalchatã‚’ã™ã‚‹"
emoji: "ğŸŒ"
type: "tech"
topics: ["nodejs", "discord"]
published: true
---

|Ï‰ãƒ»ï½€)ï¾‰ ï¾”ï½§
GlobalChatã®ä½œæˆæ–¹æ³•(Channelå¼)

*channelå¼GlobalChat
```js
client.on("message", async message=>{
if(message.author.bot) return;
    if(message.channel.name == ("ãƒãƒ£ãƒ³ãƒãƒ«å")){
        message.delete();
        const ch_name = "ãƒãƒ£ãƒ³ãƒãƒ«å"; 
        client.channels.cache.forEach(ch => {
            if(ch.name === ch_name){
                ch.send({embed: {
                    title: `${message.author.tag}(${message.author.id})`,
                    description: message.content,
                    color: 0x800080,
                    timestamp: new Date(),
                    footer: {
                        text: message.guild.name + "(" + message.guild.id + ")"
                    },
                    thumbnail: {
                        url: `https://cdn.discordapp.com/avatars/${message.author.id}/${message.author.avatar}.png`
                    }
}})}})};
```
ç”»åƒå¯¾å¿œã—ã¦ãªã„ã§ã™(ã‚ã‹ã‚‰ãªã„ã®ã§)

*é–‹ç™ºè€…ã¨ã‹ã‚’çµµæ–‡å­—è¡¨ç¤ºã™ã‚‹å ´åˆ
```js
client.on("message", async message=>{
if(message.author.bot) return;
const args = message.content.slice(2).trim().split(/ +/g);
const command = args.shift().toLowerCase();
var admin = ""; // userã‚’çµµæ–‡å­—ã§è¡¨ç¤ºã™ã‚‹å ´åˆã¯è¨˜å…¥
if (message.author.id === "è‡ªåˆ†ã®ID") {
admin = ":crown:";
}
    if(message.channel.name == ("global-chat")){
        const gmute = (await gmutes.get(message.author.id)) || { score: 0, reason: 0 }
        if(gmute.score != 0) return;
        message.delete();
        const ch_name = "global-chat";
        client.channels.cache.forEach(ch => {
            if(ch.name === ch_name){
                ch.send({embed: {
                    title: `${admin}${message.author.tag}(${message.author.id})`,
                    description: message.content,
                    color: 0x800080,
                    timestamp: new Date(),
                    footer: {
                        text: message.guild.name + "(" + message.guild.id + ")"
                    },
                    thumbnail: {
                        url: `https://cdn.discordapp.com/avatars/${message.author.id}/${message.author.avatar}.png`
                    }
                }})}})};
```

ç”»åƒå…¥ã‚Œã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã£ãŸã‚‰ã€æ›´æ–°ã—ã¾ã™ã€‚

---
ã‚‚ã—ã€ã“ã®è¨˜äº‹ãŒè‰¯ã‹ã£ãŸã‚‰ã€TwitterFollowã‚ˆã‚ã—ãã­ï¼
[__Twitter(@kinoko1216)__](https://twitter.com/intent/follow?screen_name=kinoko1216)